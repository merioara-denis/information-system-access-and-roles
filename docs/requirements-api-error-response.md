# Ответ с ошибкой (REST API)

[< Вернуться](./README.md)

## Нарратив

- **Я как** пользователь **Хочу** получить понятное сообщение **Чтобы** понимать что произошло и как действовать дальше.
- **Я как** разработчик **Хочу** переиспользовать модель ошибки **Чтобы** не создавать повторяющегося кода.

## Границы истории

Реализация тела ответа с ошибкой от сервиса и отражения пользователю.

## Критерии достижения

Пользователь получает ответ с человеко читаемой ошибкой.

## Реализация

### Модели данных

#### ApiErrorMode - Тип отображения

- "toast" - Вывод уведомления в Toast (по умолчанию)

#### ApiErrorResponse 

| Поле        | Тип           | Название                   |
| ----------- | ------------- | -------------------------- |
| TraceId     | GUID          | Уникальный идентификатор   |
| Description | String        | Системное описание ошибки  |
| Content     | Object        | Сообщение для пользователя |
| - mode      | ApiErrorMode  | Тип отображения            |
| - data      | Object        | Значения для заполнения    |
| - header    | String        | Заголовок сообщения        |
| - body      | String        | Тело сообщения             |
| - footer    | String        | Подвал сообщения           |

## Критерии приёмки

1. Система отправляет запрос на сервис;
2. Сервис возвращает ответ с ошибкой __(HTTP коде 4XX или 5XX)__ (Backend);
3. Пользователю отображается уведомление об ошибке (Frontend);